<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Restaurante Elite | Gestión de Productos</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #87CEEB; /* Azul cielo */
      --secondary-color: #6BB9F0; /* Azul más claro */
      --accent-color: #3a8edb; /* Azul más brillante */
      --light-color: #ffffff;
      --dark-color: #333333;
      --success-color: #4CAF50;
      --warning-color: #FF9800;
      --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: var(--dark-color);
      min-height: 100vh;
    }

    /* Barra de navegación */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: var(--light-color);
      box-shadow: 0 2px 15px rgba(0,0,0,0.1);
      z-index: 1000;
      display: flex;
      justify-content: center;
      padding: 15px 0;
    }

    .nav-container {
      display: flex;
      gap: 10px;
      max-width: 1200px;
      width: 100%;
      padding: 0 20px;
    }

    .nav-btn {
      background-color: var(--light-color);
      color: var(--primary-color);
      border: 2px solid var(--primary-color);
      padding: 10px 20px;
      border-radius: 50px;
      font-weight: bold;
      cursor: pointer;
      transition: var(--transition);
      font-size: 0.9rem;
      text-align: center;
      flex: 1;
    }

    .nav-btn:hover {
      background-color: var(--primary-color);
      color: var(--light-color);
      transform: translateY(-2px);
    }

    .nav-btn.active {
      background-color: var(--primary-color);
      color: var(--light-color);
      box-shadow: 0 4px 10px rgba(107, 185, 240, 0.3);
    }

    .main-container {
      padding: 180px 20px 40px;
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      color: var(--light-color);
      font-family: 'Montserrat', sans-serif;
      font-size: 3rem;
      margin-bottom: 30px;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.2);
      position: relative;
    }

    h1::after {
      content: '';
      display: block;
      width: 100px;
      height: 4px;
      background: var(--light-color);
      margin: 15px auto;
      border-radius: 2px;
    }

    .btn {
      background-color: var(--light-color);
      color: var(--primary-color);
      padding: 18px 36px;
      border: none;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      box-shadow: var(--shadow);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: 0.5s;
    }

    .btn:hover {
      background-color: var(--accent-color);
      color: var(--light-color);
      transform: translateY(-5px);
      box-shadow: 0 15px 25px rgba(0,0,0,0.2);
    }

    .btn:hover::before {
      left: 100%;
    }

    .producto-lista {
      margin-top: 50px;
      background: rgba(255, 255, 255, 0.95);
      padding: 30px;
      border-radius: 20px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.3);
    }

    .producto-lista h2 {
      color: var(--primary-color);
      font-family: 'Montserrat', sans-serif;
      font-size: 2rem;
      margin-bottom: 30px;
      text-align: center;
      position: relative;
    }

    .producto-lista h2::after {
      content: '';
      display: block;
      width: 80px;
      height: 4px;
      background: var(--primary-color);
      margin: 15px auto;
      border-radius: 2px;
    }

    .producto {
      padding: 25px;
      margin-bottom: 20px;
      background: var(--light-color);
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      position: relative;
      transition: var(--transition);
      border-left: 4px solid var(--primary-color);
      animation: fadeInUp 0.5s ease-out;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .producto:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }

    .producto strong {
      color: var(--primary-color);
      font-weight: 600;
    }

    .producto p {
      margin-bottom: 10px;
      line-height: 1.6;
    }

    .edit-btn {
      position: absolute;
      right: 20px;
      top: 20px;
      background: linear-gradient(135deg, var(--warning-color), #FFC107);
      color: white;
      padding: 12px 24px;
      border-radius: 50px;
      border: none;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 5px 15px rgba(255, 152, 0, 0.3);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .edit-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(255, 152, 0, 0.5);
      background: linear-gradient(135deg, #FFC107, var(--warning-color));
    }

    .empty-state {
      text-align: center;
      padding: 40px;
      color: #95a5a6;
    }

    .empty-state i {
      font-size: 3rem;
      margin-bottom: 20px;
      color: var(--primary-color);
    }

    .floating-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: 0 5px 20px rgba(70, 130, 180, 0.6);
      z-index: 100;
      transition: var(--transition);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    .floating-btn:hover {
      transform: scale(1.1) rotate(90deg);
      box-shadow: 0 10px 30px rgba(70, 130, 180, 0.8);
    }

    /* Ventana modal */
    .modal {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, 0.98);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.3);
      z-index: 2000;
      width: 90%;
      max-width: 500px;
      max-height: 90vh;
      overflow-y: auto;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.3);
      animation: modalFadeIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    @keyframes modalFadeIn {
      from { opacity: 0; transform: translate(-50%, -60%); }
      to { opacity: 1; transform: translate(-50%, -50%); }
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }

    .modal-header h2 {
      color: var(--primary-color);
      font-family: 'Montserrat', sans-serif;
      font-size: 1.8rem;
    }

    .close-modal {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--dark-color);
      transition: var(--transition);
    }

    .close-modal:hover {
      color: var(--accent-color);
      transform: rotate(90deg);
    }

    .form-group {
      margin-bottom: 25px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--dark-color);
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 15px 20px;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      font-size: 1rem;
      transition: var(--transition);
      background: rgba(255,255,255,0.8);
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(135, 206, 235, 0.3);
    }

    .form-actions {
      display: flex;
      justify-content: space-between;
      margin-top: 40px;
      gap: 15px;
    }

    .form-actions button {
      padding: 15px 25px;
      border: none;
      border-radius: 12px;
      font-weight: bold;
      cursor: pointer;
      font-size: 1rem;
      transition: var(--transition);
      flex: 1;
    }

    .save-btn {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: var(--light-color);
      box-shadow: 0 4px 15px rgba(107, 185, 240, 0.3);
    }

    .save-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(107, 185, 240, 0.4);
    }

    .cancel-btn {
      background-color: #f1f1f1;
      color: #555;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    }

    .cancel-btn:hover {
      background-color: #e0e0e0;
      transform: translateY(-3px);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .main-container {
        padding: 150px 20px 30px;
      }

      h1 {
        font-size: 2.2rem;
      }

      .nav-container {
        flex-wrap: wrap;
      }

      .nav-btn {
        padding: 8px 12px;
        font-size: 0.8rem;
      }

      .producto {
        padding: 20px;
      }

      .edit-btn {
        position: static;
        margin-top: 15px;
        width: 100%;
      }

      .modal {
        width: 95%;
        padding: 30px;
      }
    }

    @media (max-width: 576px) {
      h1 {
        font-size: 1.8rem;
      }

      .btn {
        padding: 15px 25px;
        font-size: 1rem;
      }

      .form-actions {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

<!-- Barra de navegación -->
<nav class="navbar">
  <div class="nav-container">
    <button class="nav-btn" onclick="location.href='/mesas'">Mesas</button>
    <button class="nav-btn" onclick="location.href='/meseros'">Meseros</button>
    <button class="nav-btn" onclick="location.href='/foro'">Foro</button>
    <button class="nav-btn active" onclick="location.href='/productos'">Productos</button>
    <button class="nav-btn" onclick="location.href='/facturas'">Facturas</button>
    <button class="nav-btn" onclick="location.href='/platillos'">Platillos</button>
  </div>
</nav>

<div class="main-container">
  <h1><i class="fas fa-boxes"></i> Gestión de Productos</h1>
  <div style="text-align: center;">
    <button class="btn" onclick="mostrarModal()">
      <i class="fas fa-plus-circle"></i> Agregar Producto
    </button>
  </div>

  <div class="producto-lista" id="listaProductos">
    <h2><i class="fas fa-list"></i> Productos Registrados</h2>

    <div id="productosContainer">
      <!-- Productos se agregarán aquí dinámicamente -->
      <div class="producto">
        <p><strong>Nombre:</strong> Hamburguesa Clásica</p>
        <p><strong>Precio:</strong> $8.99</p>
        <p><strong>Categoría:</strong> Comida Rápida</p>
        <p><strong>Descripción:</strong> Deliciosa hamburguesa con carne 100% res, queso, lechuga y tomate</p>
        <button class="edit-btn" onclick="editarProducto(this.parentElement)"><i class="fas fa-edit"></i> Editar</button>
      </div>
      <div class="producto">
        <p><strong>Nombre:</strong> Ensalada César</p>
        <p><strong>Precio:</strong> $6.50</p>
        <p><strong>Categoría:</strong> Ensaladas</p>
        <p><strong>Descripción:</strong> Fresca ensalada con pollo, lechuga romana, croutones y aderezo césar</p>
        <button class="edit-btn" onclick="editarProducto(this.parentElement)"><i class="fas fa-edit"></i> Editar</button>
      </div>
    </div>

    <div id="emptyState" class="empty-state" style="display: none;">
      <i class="fas fa-box-open"></i>
      <h3>No hay productos registrados</h3>
      <p>Comienza agregando tu primer producto</p>
    </div>
  </div>
</div>

<!-- Modal para agregar/editar productos -->
<div class="modal" id="productoModal">
  <div class="modal-header">
    <h2 id="modalTitle">Nuevo Producto</h2>
    <button class="close-modal" onclick="cerrarModal()">&times;</button>
  </div>

  <form id="productoForm">
    <div class="form-group">
      <label for="nombreProducto">Nombre del Producto</label>
      <input type="text" id="nombreProducto" required>
    </div>

    <div class="form-group">
      <label for="precioProducto">Precio</label>
      <input type="number" id="precioProducto" step="0.01" min="0" required>
    </div>

    <div class="form-group">
      <label for="categoriaProducto">Categoría</label>
      <select id="categoriaProducto" required>
        <option value="">Seleccione una categoría</option>
        <option value="Comida Rápida">Comida Rápida</option>
        <option value="Ensaladas">Ensaladas</option>
        <option value="Bebidas">Bebidas</option>
        <option value="Postres">Postres</option>
        <option value="Especiales">Especiales</option>
      </select>
    </div>

    <div class="form-group">
      <label for="descripcionProducto">Descripción</label>
      <textarea id="descripcionProducto" rows="4"></textarea>
    </div>

    <div class="form-actions">
      <button type="button" class="save-btn" onclick="guardarProducto()"><i class="fas fa-save"></i> Guardar</button>
      <button type="button" class="cancel-btn" onclick="cerrarModal()"><i class="fas fa-times"></i> Cancelar</button>
    </div>
  </form>
</div>

<div class="floating-btn" onclick="mostrarModal()">
  <i class="fas fa-plus"></i>
</div>

<script>
  // Variables globales
  let productos = [
    {
      nombre: "Hamburguesa Clásica",
      precio: 8.99,
      categoria: "Comida Rápida",
      descripcion: "Deliciosa hamburguesa con carne 100% res, queso, lechuga y tomate"
    },
    {
      nombre: "Ensalada César",
      precio: 6.50,
      categoria: "Ensaladas",
      descripcion: "Fresca ensalada con pollo, lechuga romana, croutones y aderezo césar"
    }
  ];

  let productoEditando = null;
  let modalAbierto = false;

  // Mostrar modal
  function mostrarModal() {
    const modal = document.getElementById('productoModal');
    modal.style.display = 'block';
    document.getElementById('modalTitle').textContent = productoEditando ? 'Editar Producto' : 'Nuevo Producto';
    modalAbierto = true;

    // Limpiar formulario si es nuevo producto
    if (!productoEditando) {
      document.getElementById('productoForm').reset();
    }
  }

  // Cerrar modal
  function cerrarModal() {
    const modal = document.getElementById('productoModal');
    modal.style.display = 'none';
    productoEditando = null;
    modalAbierto = false;
  }

  // Guardar producto
  function guardarProducto() {
    const nombre = document.getElementById('nombreProducto').value;
    const precio = parseFloat(document.getElementById('precioProducto').value);
    const categoria = document.getElementById('categoriaProducto').value;
    const descripcion = document.getElementById('descripcionProducto').value;

    if (!nombre || isNaN(precio) || !categoria) {
      alert('Por favor complete todos los campos requeridos');
      return;
    }

    const producto = {
      nombre,
      precio,
      categoria,
      descripcion
    };

    if (productoEditando) {
      // Actualizar producto existente
      const index = productos.findIndex(p => p.nombre === productoEditando.nombre);
      if (index !== -1) {
        productos[index] = producto;
      }
    } else {
      // Agregar nuevo producto
      productos.push(producto);
    }

    renderizarProductos();
    cerrarModal();
  }

  // Editar producto
  function editarProducto(productoElement) {
    const nombre = productoElement.querySelector('strong').nextSibling.textContent.trim();
    productoEditando = productos.find(p => p.nombre === nombre);

    if (productoEditando) {
      document.getElementById('nombreProducto').value = productoEditando.nombre;
      document.getElementById('precioProducto').value = productoEditando.precio;
      document.getElementById('categoriaProducto').value = productoEditando.categoria;
      document.getElementById('descripcionProducto').value = productoEditando.descripcion || '';

      mostrarModal();
    }
  }

  // Renderizar lista de productos
  function renderizarProductos() {
    const container = document.getElementById('productosContainer');
    const emptyState = document.getElementById('emptyState');

    container.innerHTML = '';

    if (productos.length === 0) {
      emptyState.style.display = 'block';
      return;
    }

    emptyState.style.display = 'none';

    productos.forEach(producto => {
      const productoDiv = document.createElement('div');
      productoDiv.className = 'producto';
      productoDiv.innerHTML = `
        <p><strong>Nombre:</strong> ${producto.nombre}</p>
        <p><strong>Precio:</strong> $${producto.precio.toFixed(2)}</p>
        <p><strong>Categoría:</strong> ${producto.categoria}</p>
        ${producto.descripcion ? `<p><strong>Descripción:</strong> ${producto.descripcion}</p>` : ''}
        <button class="edit-btn" onclick="editarProducto(this.parentElement)"><i class="fas fa-edit"></i> Editar</button>
      `;
      container.appendChild(productoDiv);
    });
  }

  // Inicializar
  document.addEventListener('DOMContentLoaded', () => {
    renderizarProductos();

    // Cerrar modal al hacer clic fuera de él
    window.addEventListener('click', (e) => {
      const modal = document.getElementById('productoModal');
      if (modalAbierto && e.target === modal) {
        cerrarModal();
      }
    });
  });
</script>

</body>
</html>
