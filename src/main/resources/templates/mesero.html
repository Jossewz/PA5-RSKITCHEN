<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Registrar Mesero</title>
    <link rel="stylesheet" th:href="@{/css/mesero.css}">

</head>
<body>

<nav class="menu-bar">
    <ul>
        <li><a href="/home" sec:authorize="hasAnyAuthority('ROLE_ADMIN','ROLE_MESERO')">Inicio</a></li>
        <li><a href="/mesa" sec:authorize="hasAnyAuthority('ROLE_ADMIN','ROLE_MESERO')">Mesa</a></li>
        <li><a href="/pedidos" sec:authorize="hasAnyAuthority('ROLE_ADMIN','ROLE_MESERO')">Pedidos</a></li>
        <li><a href="/factura" sec:authorize="hasAnyAuthority('ROLE_ADMIN','ROLE_MESERO')">Facturas</a></li>
        <li><a href="/mesero" sec:authorize="hasAuthority('ROLE_ADMIN')">Mesero</a></li>
        <li><a href="/platillos" sec:authorize="hasAuthority('ROLE_ADMIN')">Platillos</a></li>
        <li class="logout-nav">
            <form th:action="@{/logout}" method="post" style="display:inline;">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <button type="submit" style="background:#d9534f; color:white; border:none; padding:10px 20px; border-radius:12px; cursor:pointer; font-weight:bold; box-shadow:0 4px 12px rgba(0,0,0,0.3); transition:all 0.3s ease;">Cerrar Sesión</button>
            </form>
        </li>
    </ul>
</nav>

<div class="content">
    <h1>Registro de Mesero</h1>

    <div class="form-container">
        <form th:action="@{/mesero/guardar}" method="post" th:object="${mesero}">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

            <label for="id_mesero">ID del Mesero:</label>
            <input type="text" id="id_mesero" th:field="*{id_mesero}" required />

            <label for="name">Nombre:</label>
            <input type="text" id="name" th:field="*{name}" required />

            <label for="mail">Correo Electrónico:</label>
            <input type="email" id="mail" th:field="*{mail}" required />

            <label for="password">Contraseña:</label>
            <input type="password" id="password" th:field="*{password}" required />

            <button type="submit" class="btn-submit">Registrar Mesero</button>
        </form>
    </div>

    <h2>Meseros Registrados</h2>

    <div class="table-container">
        <table>
            <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Correo</th>
                <th>Rol</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="m : ${meseros}">
                <td th:text="${m.id_mesero}">ID</td>
                <td th:text="${m.name}">Nombre</td>
                <td th:text="${m.mail}">Correo</td>
                <td th:text="${m.role}">Rol</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>

